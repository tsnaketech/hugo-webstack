{{ if page.Site.Params.nightMode }}
    <body class="io-black-mode">
{{ else }}
    <body class="io-grey-mode">
{{ end }}
    {{ if page.Site.Params.enablePreLoad }}
        <div id="loading">
            <style>
                .loader {
                    width: 250px;
                    height: 50px;
                    line-height: 50px;
                    text-align: center;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    font-family: helvetica, arial, sans-serif;
                    font-weight: 900;
                    color: #f1404b;
                    letter-spacing: 0.2em
                }

                .loader::before,
                .loader::after {
                    content: "";
                    display: block;
                    width: 15px;
                    height: 15px;
                    background: #f1404b;
                    position: absolute;
                    animation: load .7s infinite alternate ease-in-out
                }

                .loader::before {
                    top: 0
                }

                .loader::after {
                    bottom: 0
                }

                @keyframes load {
                    0% {
                        left: 0;
                        height: 30px;
                        width: 15px
                    }

                    50% {
                        height: 8px;
                        width: 40px
                    }

                    100% {
                        left: 235px;
                        height: 30px;
                        width: 15px
                    }
                }
            </style>
            <div class="loader">{{ page.Site.Params.textPreLoad }}</div>
        </div>
    {{ end }}
    <div class="page-container">
    {{ if page.Site.Params.expandSidebar }}
        <div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
    {{ else }}
        <div id="sidebar" class="sticky sidebar-nav fade mini-sidebar" style="width: 60px;">
    {{ end }}
        <div class="modal-dialog h-100 sidebar-nav-inner">
            <div class="sidebar-logo border-bottom border-color">
                <!-- Logo -->
                <div class="logo overflow-hidden">
                    <a href="" class="logo-expanded">
                        <img src="{{ absURL page.Site.Params.images.logoExpandLight }}" height="40" class="logo-light"
                            alt="{{ page.Site.Title }}">
                        <img src="{{ absURL page.Site.Params.images.logoExpandDark }}" height="40" class="logo-dark d-none"
                            alt="{{ page.Site.Title }}">
                    </a>
                    <a href="" class="logo-collapsed">
                        <img src="{{ absURL page.Site.Params.images.logoCollapseLight }}" height="40" class="logo-light"
                            alt="{{ page.Site.Title }}">
                        <img src="{{ absURL page.Site.Params.images.logoCollapseDark }}" height="40" class="logo-dark d-none"
                            alt="{{ page.Site.Title }}">
                    </a>
                </div>
                <!-- Logo end -->
            </div>
        <div class="sidebar-menu flex-fill">
            <div class="sidebar-scroll">
                <div class="sidebar-menu-inner">
                    <ul>
                        {{ range .data }}
                            {{ if .list }}
                                <li class="sidebar-item">
                                    <a href="#{{ range first 1 .list }}{{ md5 .term }}{{ end }}" class="smooth change-href" data-change="#{{ range first 1 .list }}{{ md5 .term }}{{ end }}">    
                                        <i class="{{ .icon }} icon-fw icon-lg mr-2"></i>
                                        <span>{{ .taxonomy }}</span>
                                        <i class="iconfont icon-arrow-r-m sidebar-more text-sm"></i>
                                    </a>
                                    <ul>
                                        {{ range .list }}
                                        <li><a href="#{{ md5 .term }}" class="smooth"><span>{{ .term }}</span></a></li>
                                        {{ end }}
                                    </ul>
                                </li> 
                            {{ else }}
                                <li class="sidebar-item">
                                    <a href="#{{ md5 .taxonomy }}" class="smooth">
                                        <i class="{{ .icon }} fa-lg icon-fw icon-lg mr-2"></i>
                                        <span>{{ .taxonomy }}</span>
                                    </a>
                                </li>
                            {{ end }}
                        {{ end }}
                    </ul>           
                </div>
            </div>
        </div>
        <div class="border-top py-2 border-color">
            <div class="flex-bottom">
                <ul>
                    {{ range page.Site.Data.sidebar_menu.items }}
                        <li class="menu-item menu-item-type-post_type menu-item-object-page sidebar-item"></li>
                        {{ if in .link "."}}
                            {{ $link := .link }}
                            <a href="{{ $link }}">
                                <i class="{{ .icon }} icon-fw icon-lg mr-2"></i> <!-- TODO {{ page.Site.BaseURL }} -->
                                <span>{{ .name }}</span>
                                <!-- {{ page.Site.BaseURL }} -->
                            </a>
                        {{ else }}
                            <a href="{{ .link }}" target="_blank">
                                <i class="{{ .icon }} icon-fw icon-lg mr-2"></i>
                                <span>{{ .name }}</span>
                            </a>
                        {{ end }}
                        </li>
                    {{ end }}
                </ul>
            </div>
        </div>
    </div>
</div>
